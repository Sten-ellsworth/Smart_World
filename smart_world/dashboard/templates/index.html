{% extends 'base.html' %}
{% block content %}
{% load staticfiles %}
<!-- <img src= "{% static 'images/background_picture.png' %}"> -->
<div class="row">
    <div class="col" style="background-image:url('{% static 'images/background_picture.png' %}');">
        <center>
            <img src="{% static 'images/Windesheim_logo.png' %}" height="150" width="250"
                 alt="Text to display if image is not found">
        </center>
    </div>
</div>
<div class="row">
    <div class="col-6 text-center">
        <div class="center border-right" style="margin-top: 30px;">
            <h3 style="font-family:Roboto;"><strong>Parkeergarage Windesheim Flevoland</strong></h3>
            {% if empty_or_full_value %}
            <button style="font-family:Roboto;" type="button" class="btn btn-success"
                    style="padding: 10px 20px; font-size: 20px; border-radius: 10px; width:120px; font-family:Roboto;">
                Vrij
            </button>
            {% else %}
            <button type="button" class="btn btn-danger"
                    style="padding: 10px 20px; font-size: 20px; border-radius: 10px; width:120px; font-family:Roboto;">
                Vol
            </button>
            {% endif %}
        </div>
    </div>
    <div class="col-6 text-center">
        <div class="bezet" style="margin-top: 30px; margin-right: 100px;">
            <h3 style="font-family:Roboto;"></h3style><strong>Plaatsen beschikbaar</strong></h3>
            <p style="font-size:200%; font-family:Roboto;"> {{empty_or_full_value.count}}/{{sensor.count}}</p>
        </div>
    </div>
</div>
</div>

<hr>
<!--Grafiek-->
<div class="row">
    <div class="col-6">
        <div class="align-center">
            <form method="get" action="/">
                <input type="text" name="date">
                <input type="submit">
            </form>
        </div>
    </div>
        <div class="col-6">
            <p style="font-size:30px;"><b>Parkeerplaats grafiek</b></p>
            <div id="ParkeerGrafiek">
                <div class="chart-container" style="position: relative; height:10vh; width:50vw">
                    <canvas id="myChart"></canvas>
                    <script src="{% static 'node_modules/chart.js/dist/Chart.js' %}"></script>
                    <script>
                        var ctx = document.getElementById('myChart').getContext('2d');
                        var myChart = new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: [{% for date in dates %}'{{ date.created_at }}',{%endfor %}
                        ],
                        datasets: [{
                            label: 'Parking availability',
                            data: [{% for date in dates %}{{date.availability}},{%endfor %}
                        ],

                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                        ],
                            borderColor
                        :
                        [
                            'rgba(255, 99, 132, 1)',
                        ],
                            borderWidth
                        :
                        1
                        }]
                        },
                        options: {
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                        })
                        ;
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>
</head>

{% endblock %}